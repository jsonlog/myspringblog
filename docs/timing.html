<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" http-equiv="Access-Control-Allow-Origin" content="*" />
    <title>Family</title>
    <div style='white-space:nowrap;display:block;word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;'>我不换行我不换行我不换行我不换行我不换行我不换行我不换行我不换行我不换行我不换行我不不换行我不换行我不换行我不换行我不不换行我不换行我不换行我不换行我不不换行我不换行我不换行我不换行我不不换行我不换行我不换行我不换行我不不换行我不换行我不换行我不换行我不换行</div>
    <div style='display: none'>
        verflow-x:scroll;overflow-y:hidden;
        word-break:keep-all;/* 不换行 */ white-space:nowrap;/* 不换行 */
        <meta name=”viewport” content=”width=device-width, initial-scale=1″ />
    </div>
    <style class="csscreations">
        /*Now the CSS*/
        * {margin: 0; padding: 0;}

        .tree ul {
            padding-top: 20px; position: relative;

            transition: all 0.5s;
            -webkit-transition: all 0.5s;
            -moz-transition: all 0.5s;
        }

        .tree li {
            float: left; text-align: center;
            list-style-type: none;
            position: relative;
            padding: 20px 5px 0 5px;

            transition: all 0.5s;
            -webkit-transition: all 0.5s;
            -moz-transition: all 0.5s;
        }

        /*We will use ::before and ::after to draw the connectors*/

        .tree li::before, .tree li::after{
            content: '';
            position: absolute; top: 0; right: 50%;
            border-top: 1px solid #ccc;
            width: 50%; height: 20px;
        }
        .tree li::after{
            right: auto; left: 50%;
            border-left: 1px solid #ccc;
        }

        /*We need to remove left-right connectors from elements without
        any siblings*/
        .tree li:only-child::after, .tree li:only-child::before {
            display: none;
        }

        /*Remove space from the top of single children*/
        .tree li:only-child{ padding-top: 0;}

        /*Remove left connector from first child and
        right connector from last child*/
        .tree li:first-child::before, .tree li:last-child::after{
            border: 0 none;
        }
        /*Adding back the vertical connector to the last nodes*/
        .tree li:last-child::before{
            border-right: 1px solid #ccc;
            border-radius: 0 5px 0 0;
            -webkit-border-radius: 0 5px 0 0;
            -moz-border-radius: 0 5px 0 0;
        }
        .tree li:first-child::after{
            border-radius: 5px 0 0 0;
            -webkit-border-radius: 5px 0 0 0;
            -moz-border-radius: 5px 0 0 0;
        }

        /*Time to add downward connectors from parents*/
        .tree ul ul::before{
            content: '';
            position: absolute; top: 0; left: 50%;
            border-left: 1px solid #ccc;
            width: 0; height: 20px;
        }

        .tree li a{
            border: 1px solid #ccc;
            padding: 5px 10px;
            text-decoration: none;
            color: #666;
            font-family: arial, verdana, tahoma;
            font-size: 11px;
            display: inline-block;

            border-radius: 5px;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;

            transition: all 0.5s;
            -webkit-transition: all 0.5s;
            -moz-transition: all 0.5s;
        }

        /*Time for some hover effects*/
        /*We will apply the hover effect the the lineage of the element also*/
        .tree li a:hover, .tree li a:hover+ul li a {
            background: #c8e4f8; color: #000; border: 1px solid #94a0b4;
        }
        /*Connector styles on hover*/
        .tree li a:hover+ul li::after,
        .tree li a:hover+ul li::before,
        .tree li a:hover+ul::before,
        .tree li a:hover+ul ul::before{
            border-color:  #94a0b4;
        }

        /*Thats all. I hope you enjoyed it.
        Thanks :)*/
    </style>
</head>
<body>
<!--
We will create a family tree using just CSS(3)
The markup will be simple nested lists
-->
<div id="alltree">
<div class="tree">
    <ul>
        <li>
            <a href="#">Parent</a>
            <ul>
                <li>
                    <a href="#">Child</a>
                    <ul>
                        <li>
                            <a href="#">Grand Child</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#">Child</a>
                    <ul>
                        <li><a href="#">Grand Child</a></li>
                        <li>
                            <a href="#">Grand Child</a>
                            <ul>
                                <li>
                                    <a href="#">Great Grand Child</a>
                                </li>
                                <li>
                                    <a href="#">Great Grand Child</a>
                                </li>
                                <li>
                                    <a href="#">Great Grand Child</a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#">Grand Child</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
</div>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js" ></script>
<script>window.jQuery || document.write('<script src="/myspringblog/js/jquery.min.js" type="text/javascript"><\/script>')</script>
<!--引入jsencrypt.js-->
<script src="https://cdn.bootcss.com/jsencrypt/3.0.0-beta.1/jsencrypt.js"></script>
<script>
    function githubtiming(access_token) {
        var div = document.getElementById("alltree");
        $.ajax({
            url: "https://api.github.com/repos/jsonlog/tomorrow/contents/timing.html?access_token="+access_token,
            async: false,//time
            data: {},
            type: "get",
            dataType: "json",
            success: function (data) {
                var blog = [];
                if (data != null) {
                    var download = data.download_url.toString();
                    console.log(download);
                    $.ajax({
                        url: download,
                        async: false,//time
                        data: {},
                        type: "get",
                        success: function (data) {
                            if (data != null) {
                                console.log(data);
                                var start = data.indexOf("<body>");
                                var end  = data.indexOf("</body>");
                                var json = data.substring(start+6,end);
                                div.innerHTML = json;
                            }
                        },
                        error: function () {
                            console.log("timingerror");
                        }
                    });
                }
            },
            error: function () {
                console.log("download_urlTimingerror");
            }
        });
    }
</script>
<script type="text/javascript">
    var loc  = location.href;
    var n1 = loc.length;//地址的总长度
    var n2 = loc.indexOf("=");//取得=号的位置
    var dengyu = loc.substr(n2+1, n1-n2);
    if(loc.indexOf("?h=") != -1) {
        var hide = true;var access = dengyu;
    }
    else if(loc.indexOf("?s=") != -1)
        var access = dengyu;
    if(access) {
        var pwd = access.split("");
        // alert(arrayPwd);
        //公钥
        // var PUBLIC_KEY = '1111';
        //私钥
        var PRIVATE_KEY = 'MIICXAIBAAKBgQCmMG%uoGvZ-q3/5gtM9*FCONQpCyJ79xn*M8R3S309qWzQvIBOz-3LHBz7P*1-+VCAp(f5nGgJGFK1u2TgLMnY7JLNMH^CNQQ^YKoIo5iLIfFj(qmuv(Qt)wj9(wMZ4/(-KDPIEBZiE24GOz0vkK)wNzTyyWY^9DC23y&B^vnDYwIDAQABAoGAZi4-WCjMhw-tTIS9+AFJ9(SJVf8Bo&TJ(+L1)j/c7-fIjwMHhOy/oI1ViGkH/LXw+Fhi%kgHc2ggGp*wqCEB*T/vg39Qy+Gj58f98SPjJg^Dv&ITLYN-T&3DEx4yGxtC(7nNt4mTOgKKJhOIGvP&tH3VK%VDp*y-hhMLo(5Xk7kCQQD%Zn8yZGpJZhBx9kMQgZTFk+DjNuNLWV2YDT2OICi^N1KZQkBC%/w8Jt07iq8&PuEn7-Df-38gy-NYJAJuOiZfAkEAyE2FwvOJGIECT5OmQTCAn4641KHkqI/ctfjxL9tu%LL8GnS*g(6%I(W(Iz3xoNtDtGv5wWu/cO/vp7V084JZfQJBAJIujOJwy9oCXd%hSRzmIi8tTLz0fNDSC6Fnk3Lq3TNRzA5g03^S9Gmt0dt14nptimcCFT%dvkgiF+R0vBuC9/8CQB&fVOQd9pAmPtCFuDi98J1gppm-EiNy+/OWDVO4jD%GN^cj9%oQ/)VOI3R+jK2Mz-pL1(OjAmv&%CQ2OTmyqL0CQAxmNyG2ATuTTR)vF1P8iD-Yt2M5q8WcP^DG%NK04JIg8qT15ZkZ*mf9f6w-P)6G+Ij&7nqmXGw*0cffgG6/ot8=';
        //使用公钥加密
        // var encrypt = new JSEncrypt();
        //encrypt.setPrivateKey('-----BEGIN RSA PRIVATE KEY-----'+PRIVATE_KEY+'-----END RSA PRIVATE KEY-----');
        // encrypt.setPublicKey('-----BEGIN PUBLIC KEY-----' + PUBLIC_KEY + '-----END PUBLIC KEY-----');
        // var encrypted = encrypt.encrypt('1111');
        // console.log('加密后数据:%o', encrypted);
        encrypted = 'LUGBut6rclClmnVAAkdpqdQM3w6IHHs$ixWgCHWbQ5NaCGWgcx9U6/Z5+K7DGh/Zn3GNwEZBlMgeeVVsSS+#c+AqXbIQI9t#69GxZu9XDWDkj/a9crayNPvqx#ete690zd008ISJmV/MW3aqerJlWmoddwhqndagSVpEBDiJhgE=';
        PRIVATE_KEY = PRIVATE_KEY.replace(new RegExp('%',"g"),pwd[0]).replace(new RegExp('\\^',"g"),pwd[1]).replace(new RegExp('&',"g"),pwd[7]).replace(new RegExp('\\*',"g"),pwd[3]).replace(new RegExp('\\(',"g"),pwd[4]).replace(new RegExp('\\)',"g"),pwd[5]).replace(new RegExp('-',"g"),pwd[6]);
        encrypted = encrypted.replace(new RegExp('#',"g"),pwd[8]).replace(new RegExp('\\$',"g"),pwd.length % 10);
        //使用私钥解密
        var decrypt = new JSEncrypt();
        //decrypt.setPublicKey('-----BEGIN PUBLIC KEY-----' + PUBLIC_KEY + '-----END PUBLIC KEY-----');
        decrypt.setPrivateKey('-----BEGIN RSA PRIVATE KEY-----' + PRIVATE_KEY + '-----END RSA PRIVATE KEY-----');
        var uncrypted = decrypt.decrypt(encrypted);
        console.log('解密后数据:%o', uncrypted);
        githubtiming(uncrypted);
    }
</script>
</body>
</html>