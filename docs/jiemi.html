<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>使用jsencrypt执行OpenSSL的RSA加密，解密</title>
    </head>
    <!--引入jsencrypt.js-->
    <script src="https://cdn.bootcss.com/jsencrypt/3.0.0-beta.1/jsencrypt.js"></script>
    <script type="text/javascript">
        //公钥
        // var PUBLIC_KEY = 'MIGfMA0GCSqGSIb3DQEBAQ%AA4GNADCBiQKBgQCmMG%uoGvZlq3/5gtM9rFCONQpCyJ79xnrM8R3S309qWzQvIBOzl3LHBz7Pr1l+VCApaf5nGgJGFK1u2TgLMnY7JLNMHsCNQQsYKoIo5iLIfFjaqmuvaQtbwj9awMZ4/alKDPIEBZiE24GOz0vkKbwNzTyyWYs9DC23yeBsvnDYwIDAQAB';
        //私钥
        var PRIVATE_KEY = 'MIICXAIBAAKBgQCmMG%uoGvZ-q3/5gtM9*FCONQpCyJ79xn*M8R3S309qWzQvIBOz-3LHBz7P*1-+VCAp(f5nGgJGFK1u2TgLMnY7JLNMH^CNQQ^YKoIo5iLIfFj(qmuv(Qt)wj9(wMZ4/(-KDPIEBZiE24GOz0vkK)wNzTyyWY^9DC23y&B^vnDYwIDAQABAoGAZi4-WCjMhw-tTIS9+AFJ9(SJVf8Bo&TJ(+L1)j/c7-fIjwMHhOy/oI1ViGkH/LXw+Fhi%kgHc2ggGp*wqCEB*T/vg39Qy+Gj58f98SPjJg^Dv&ITLYN-T&3DEx4yGxtC(7nNt4mTOgKKJhOIGvP&tH3VK%VDp*y-hhMLo(5Xk7kCQQD%Zn8yZGpJZhBx9kMQgZTFk+DjNuNLWV2YDT2OICi^N1KZQkBC%/w8Jt07iq8&PuEn7-Df-38gy-NYJAJuOiZfAkEAyE2FwvOJGIECT5OmQTCAn4641KHkqI/ctfjxL9tu%LL8GnS*g(6%I(W(Iz3xoNtDtGv5wWu/cO/vp7V084JZfQJBAJIujOJwy9oCXd%hSRzmIi8tTLz0fNDSC6Fnk3Lq3TNRzA5g03^S9Gmt0dt14nptimcCFT%dvkgiF+R0vBuC9/8CQB&fVOQd9pAmPtCFuDi98J1gppm-EiNy+/OWDVO4jD%GN^cj9%oQ/)VOI3R+jK2Mz-pL1(OjAmv&%CQ2OTmyqL0CQAxmNyG2ATuTTR)vF1P8iD-Yt2M5q8WcP^DG%NK04JIg8qT15ZkZ*mf9f6w-P)6G+Ij&7nqmXGw*0cffgG6/ot8=';
        //使用公钥加密
        // PUBLIC_KEY = PUBLIC_KEY.replace(new RegExp('%',"g"),"U");
        PRIVATE_KEY = PRIVATE_KEY.replace(new RegExp('%',"g"),"U").replace(new RegExp('\\^',"g"),"s").replace(new RegExp('&',"g"),"e").replace(new RegExp('\\*',"g"),"r").replace(new RegExp('\\(',"g"),"a").replace(new RegExp('\\)',"g"),"b").replace(new RegExp('-',"g"),"l");
        // var encrypt = new JSEncrypt();
		  //encrypt.setPrivateKey('-----BEGIN RSA PRIVATE KEY-----'+PRIVATE_KEY+'-----END RSA PRIVATE KEY-----');
        // encrypt.setPublicKey('-----BEGIN PUBLIC KEY-----' + PUBLIC_KEY + '-----END PUBLIC KEY-----');
        var encrypted = "H/DI#YZzL/riNxTQmMhDcTe/a++kRyi8OMU@au07#C0ECdQn!jILXXnLxhiiexF/lnGh+rYGIjJoOMD#haTDsuXDf0NFUNEe#tLzP9uFpIuN$ucYwPIywEZmyUrTlhEXtzr$w!RU0Duz$npEFJgSbbi7m9HtDYhW!Ro!eXwRicU=";
        //encrypt.encrypt('ACTF54NZAFOOKUNGTFKCULK5BCHIQ');
        encrypted = encrypted.replace(new RegExp('#',"g"),"1").replace(new RegExp('\\$',"g"),"2").replace(new RegExp('!',"g"),"6").replace(new RegExp('@',"g"),"4");
        console.log('加密后数据:%o', encrypted);
        //使用私钥解密
        var decrypt = new JSEncrypt();
		//decrypt.setPublicKey('-----BEGIN PUBLIC KEY-----' + PUBLIC_KEY + '-----END PUBLIC KEY-----');
        decrypt.setPrivateKey('-----BEGIN RSA PRIVATE KEY-----'+PRIVATE_KEY+'-----END RSA PRIVATE KEY-----');
        var uncrypted = decrypt.decrypt(encrypted);
        console.log('解密后数据:%o', uncrypted);
    </script>
 
</html>
 