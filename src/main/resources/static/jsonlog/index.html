<!doctype html>
<html>
<head>
<meta charset="utf-8">
  <title>首页_老G博客网站</title>
  <meta name="keywords" content="个人博客,老G个人博客,个人博客模板,老G" />
  <meta name="description" content="老G个人博客，是一个支持springboot个人原创网站。" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./css/base.css" rel="stylesheet">
  <link href="./css/index.css" rel="stylesheet">
  <link href="./css/m.css" rel="stylesheet">
  <script src="./js/jquery.min.js" ></script>
  <script src="./js/hc-sticky.js"></script>
  <script src="./js/comm.js"></script>
  <!--[if lt IE 9]>
  <script src="./js/modernizr.js"></script>
  <![endif]-->
</head>
<body>
<div id="header"></div>
<div id="wrapper" class="wrapper">
  <main id="main">
    <div class="bloglist">
      <ul id="bloglistul">
      </ul>
    </div>
    <div class="content-wrapper">
  </div>
  </main>
  <div id="aside"></div>
</div>
<script>
  $("#header").load("./jsonlog/header.html");
</script>
<script>
  $("#aside").load("./jsonlog/aside.html");
</script>
<script>
  var blog;
  githubblog();
  function githubblog() {
    $.ajax(
            {
              url: "https://api.github.com/repos/jsonlog/myspringblog/contents/src/main/resources/static/blog",
              async: false,//time
              data: {},
              type: "get",
              dataType: "json",
              success: function (data) {
                // console.log(JSON.stringify(data));
                // var obj = jQuery.parseJSON('{"name":"John"}');
                /*
[
  {
    "name": "hello.html",
    "path": "src/main/resources/static/blog/hello.html",
    "sha": "c417054af17ecdb99e00c8500de43ebc819427e0",
    "size": 548,
    "url": "https://api.github.com/repos/jsonlog/myspringblog/contents/src/main/resources/static/blog/hello.html?ref=master",
    "html_url": "https://github.com/jsonlog/myspringblog/blob/master/src/main/resources/static/blog/hello.html",
    "git_url": "https://api.github.com/repos/jsonlog/myspringblog/git/blobs/c417054af17ecdb99e00c8500de43ebc819427e0",
    "download_url": "https://raw.githubusercontent.com/jsonlog/myspringblog/master/src/main/resources/static/blog/hello.html",
    "type": "file",
    "_links": {
      "self": "https://api.github.com/repos/jsonlog/myspringblog/contents/src/main/resources/static/blog/hello.html?ref=master",
      "git": "https://api.github.com/repos/jsonlog/myspringblog/git/blobs/c417054af17ecdb99e00c8500de43ebc819427e0",
      "html": "https://github.com/jsonlog/myspringblog/blob/master/src/main/resources/static/blog/hello.html"
    }
  },
  ...]
                 */
                blog = [];
                if (data != null) {
                  for (var i = 0; i < data.length; i++) {
                    blog.push(data[i].path.toString().replace("src/main/resources/static/","./"));
                  }
                  blog = ["./blog/sample.html"];
                  githubblogAdd();
                }
              },
              error: function () {
                alert("error");
              }
            });
  }
  function githubblogAdd() {
    for(var i = 0,len = blog.length; i < len; i++){
      // if(i.toString() != "3") continue;
      var iframe = document.createElement('iframe');
      iframe.id = blog[i];
      iframe.src=blog[i];
      iframe.style = "display: none";
      var bloghref = blog[i];
      iframe.onload = function(){
        doc = this.contentWindow.document;
        oDiv = parent.document.createElement('div');
        oDiv.innerHTML = "<li> <i class=\"blogpic\"><a href=\"#\"><img src=\"./../images/1.jpg\" alt=\"\"> </a></i>\n" +
                "          <dl>\n" +
                "            <dt><a href=\"#\" target=\"_blank\">"+doc.getElementById("blogtitle").innerHTML+"</a></dt>\n" +
                "            <dd><span class=\"bloginfo\">选择帝国cms，做一个博客系统，很多人都说是大材小用。确实是有那种感觉，因为cms有很多功能表用不上。但是帝国cms的安装包也就才6M，如果你放一张高清的1920的图，都比这安装包大！我就来说一说我为什么要用帝国cms...</span>\n" +
                "              <p class=\"timeinfo\"><span class=\"lanmu\"><a href=\"#\" target=\"_blank\">个人博客</a>"+"-"+"</span><span class=\"date\">"+"-"+"</span></p>\n" +
                "              <a class=\"read\" href=\""+bloghref+"\">阅读更多</a> </dd>\n" +
                "          </dl>\n" +
                "        </li>";
        parent.document.getElementById('bloglistul').appendChild(oDiv);
      };
      document.body.appendChild(iframe);
    }
  }
  // var frame0 = document.getElementById(blog[0]);
  // frame0.onload = article();
</script>
<div id="footer"></div>
<script>
  $("#footer").load("./jsonlog/footer.html");
</script>
<a href="#" class="cd-top">Top</a>
</body>
</html>
